/* Portfolio */
.portfolio { padding: var(--spacing-3xl) 0; border-top: 1px solid var(--color-border); }
.portfolio__header { display: grid; gap: var(--spacing-lg); margin-bottom: var(--spacing-xl); }
.portfolio__title { font-size: clamp(28px, 6vw, 56px); letter-spacing: -0.02em; }

.portfolio__filters { display: flex; flex-wrap: wrap; gap: var(--spacing-sm); }
.chip { padding: 10px 14px; border-radius: var(--border-radius-lg); border: 1px solid var(--color-border); background: var(--color-bg-primary); color: var(--color-text-primary); font-size: var(--font-size-sm); }
.chip.is-active { border-color: var(--color-text-primary); background: var(--color-bg-secondary); }

.featured { position: relative; border-radius: var(--border-radius-md); overflow: hidden; height: clamp(240px, 36vw, 520px); margin-bottom: var(--spacing-2xl); }
.featured__media { position: absolute; inset: 0; background-size: cover; background-position: center; transform: scale(1.06); transition: transform var(--transition-slow); will-change: transform; }
.featured:hover .featured__media { transform: scale(1.08) translateY(-2%); }
.featured__overlay { position: absolute; inset: 0; background: linear-gradient(180deg, var(--color-bg-secondary), transparent 60%); mix-blend-mode: multiply; }
.featured__content { position: relative; z-index: 1; height: 100%; display: grid; align-content: end; gap: var(--spacing-md); padding: var(--spacing-xl); color: var(--color-text-primary); }
.featured__title { font-size: clamp(22px, 3.6vw, 36px); }
.featured__points { display: grid; gap: 6px; color: var(--color-text-secondary); }
.featured__meta { display: flex; flex-wrap: wrap; gap: var(--spacing-md); color: var(--color-text-secondary); }
.featured__cta { align-self: start; padding: 12px 16px; border-radius: var(--border-radius-sm); background: var(--color-accent); color: var(--color-bg-primary); border: 1px solid transparent; }
.featured__cta:hover { background: var(--color-accent-hover); }

.portfolio__grid { display: grid; grid-template-columns: 1fr; gap: var(--spacing-xl); }
@media (min-width: 768px) { .portfolio__grid { grid-template-columns: repeat(3, 1fr); } }

.card { display: flex; flex-direction: column; border: 1px solid var(--color-border); border-radius: var(--border-radius-md); background: var(--color-bg-primary); box-shadow: var(--shadow-sm); overflow: hidden; transition: transform var(--transition-normal), box-shadow var(--transition-normal); }
.card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }
.card__media { aspect-ratio: 16/10; background: var(--color-bg-accent); }
.card__media img { width: 100%; height: 100%; object-fit: cover; display: block; }
.card__body { display: grid; gap: var(--spacing-sm); padding: var(--spacing-lg); }
.card__title { font-size: clamp(18px, 2.6vw, 22px); }
.card__desc { color: var(--color-text-secondary); }
.card__tags { display: flex; flex-wrap: wrap; gap: 8px; }
.tag { border: 1px solid var(--color-border); border-radius: var(--border-radius-lg); padding: 4px 10px; font-size: var(--font-size-xs); color: var(--color-text-secondary); }
.card__meta { display: flex; justify-content: space-between; color: var(--color-text-muted); }
.status { padding: 4px 10px; border-radius: 999px; border: 1px solid var(--color-border); }
.status--Live { color: var(--color-accent); border-color: var(--color-accent); }
.status--В\20работе { color: var(--color-text-primary); border-color: var(--color-border); }
.status--Архив { color: var(--color-text-muted); border-color: var(--color-border); }
.year { font-weight: var(--font-weight-medium); }
.card__cta { justify-self: start; padding: 10px 14px; border-radius: var(--border-radius-sm); border: 1px solid var(--color-text-primary); background: transparent; color: var(--color-text-primary); }
.card__cta:hover { background: var(--color-text-primary); color: var(--color-bg-primary); }

/* Case modal */
.case-modal { position: fixed; inset: 0; z-index: var(--z-index-mobile-menu); display: none; }
.case-modal.open { display: block; }
.case-modal__backdrop { position: absolute; inset: 0; background: var(--color-bg-secondary); opacity: 0.7; }
.case-modal__dialog { position: relative; z-index: 1; width: min(920px, 92vw); max-height: 86vh; margin: 7vh auto; background: var(--color-bg-primary); color: var(--color-text-primary); border: 1px solid var(--color-border); border-radius: var(--border-radius-md); overflow: auto; box-shadow: var(--shadow-lg); }
.case-modal__header { display: flex; justify-content: space-between; align-items: center; padding: var(--spacing-md) var(--spacing-lg); border-bottom: 1px solid var(--color-border); }
.case-modal__title { font-size: clamp(18px, 2.8vw, 24px); }
.case-modal__close { border: 1px solid var(--color-border); background: transparent; border-radius: var(--border-radius-sm); width: 36px; height: 36px; }
.case-modal__media { background: var(--color-bg-accent); }
.case-modal__media img { width: 100%; height: auto; display: block; }
.case-modal__content { padding: var(--spacing-lg); display: grid; gap: var(--spacing-sm); }
.case-modal__section { color: var(--color-text-secondary); }
.case-modal__footer { padding: var(--spacing-md) var(--spacing-lg); border-top: 1px solid var(--color-border); display: flex; gap: var(--spacing-lg); color: var(--color-text-muted); }

/* reveal */
.js-reveal { opacity: 0; transform: translateY(12px); transition: opacity var(--transition-normal), transform var(--transition-normal); will-change: transform, opacity; }
.js-reveal.is-visible { opacity: 1; transform: translateY(0); }
